# Author: Gregory B. Poole <gbpoole@gmail.com>
# Maintainer: Gregory B. Poole <gbpoole@gmail.com>
# Contributor: Gregory B. Poole <gbpoole@gmail.com>
pkgname=zsh-pure-prompt-git
pkgver=r61.7d3b317
pkgrel=1
pkgdesc='Async Zsh prompt for gbpoole.'
arch=('any')
url='https://github.com/gbpoole/gbp-zsh-prompt'
license=('MIT')
depends=('zsh' 'git')
source=("$pkgname::git://github.com/gbpoole/gbp-zsh-prompt.git")
sha256sums=('SKIP')

pkgver() {
  cd $srcdir/$pkgname
  printf "r%s.%s" "$(git rev-list --count HEAD)" "$(git rev-parse --short HEAD)"
}

package() {
  cd $srcdir/$pkgname
  install -Dm644 gbp-zsh-prompt.zsh \
    "$pkgdir/usr/share/zsh/functions/Prompts/prompt_gbp_zsh_prompt_setup"
  install -Dm644 async.zsh \
    "$pkgdir/usr/share/zsh/functions/async"
}
